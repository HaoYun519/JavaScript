<!-- <!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<title>處理非同步程式: 回呼函式</title>
    <script>
        function getData(callback){
                //2. 準備做 Ajax 連線
                let req=new XMLHttpRequest();
                req.open("get", "https://training.pada-x.com/resources/javascript-es6-react/data.out");
                req.onload=function(){
                    callback(this.responseText)
                };
                req.send();
            }
            getData(function(result){
                alert(result);
            });
    </script>    
</head>
<body>
</body>
</html> -->

<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>處理非同步程式: Promise 物件</title>
<script>
    function getData(){
        return new Promise((resolve, reject)=>{
            const req=new XMLHttpRequest();
            req.open("get", "https://training.pada-x.com/resources/javascript-es6-react/data.out");
            req.onload=() => resolve(req.responseText);
            req.onerror=() => reject(req.statusText);
            req.send();
        });
    }
    let promise=getData();
    promise.then((result) => {
        alert(result);
    }).catch((err) => {
        alert(err);
    });
    
</script>
</head>
<body>
</body>
</html>

